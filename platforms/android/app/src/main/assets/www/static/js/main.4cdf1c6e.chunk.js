(this["webpackJsonpcom.caccproject.mymeteo"]=this["webpackJsonpcom.caccproject.mymeteo"]||[]).push([[0],{20:function(e,a,t){e.exports=t(40)},25:function(e,a,t){},31:function(e,a,t){},40:function(e,a,t){"use strict";t.r(a);var n=t(1),c=t.n(n),m=t(8),l=t.n(m),r=(t(25),t(19)),o=t(42),s=t(43),i=t(44),p=t(54),d=t(45),h=t(46),E=t(47),u=t(48),v=t(49),g=t(50),N=t(51),x=t(52),y=t(55),w=t(53),f=t(11),M=t(13);t(31),t(32);var I=function(){var e,a,t,m=Object(n.useState)(!0),l=Object(r.a)(m,2),I=l[0],B=l[1],C="N";function S(e){alert("code: "+e.code+"\nmessage: "+e.message+"\n")}function b(e){t=e.coords}function D(n){var c="1dd3c8021c34d1578422220b96a85c1a";""!==(e=document.getElementById("ville").value)?a=["https://api.openweathermap.org/data/2.5/find?q=".concat(e,"&units=metric&appid=").concat(c,"&lang=fr"),"https://api.openweathermap.org/data/2.5/forecast?q=".concat(e,"&units=metric&appid=").concat(c,"&lang=fr")]:"Y"==C&&(a=["https://api.openweathermap.org/data/2.5/find?lat=".concat(t.latitude,"&lon=").concat(t.longitude,"&units=metric&appid=").concat(c,"&lang=fr"),"https://api.openweathermap.org/data/2.5/forecast?lat=".concat(t.latitude,"&lon=").concat(t.longitude,"&units=metric&appid=").concat(c,"&lang=fr")]),""!==a&&Promise.all(a.map((function(e){return fetch(e).then((function(e){return e.json()}))}))).then((function(e){if(console.log(e),"200"==e[0].cod){console.log("reponse"+e);for(var a=e[0].list[0],t=new Object,n=[],c=[],m=[],l=[],r=1;r<=4;r++)n.push(e[1].list[8*r].weather[0].icon),c.push(Math.round(e[1].list[8*r].main.temp_min)),m.push(Math.round(e[1].list[8*r].main.temp_max)),l.push(e[1].list[8*r].weather[0].description);t.icon=n,t.minTemp=c,t.maxTemp=m,t.desc=l;var o={ville:a.name,temp:a.main.temp,tempMin:a.main.temp_min,tempMax:a.main.temp_max,icon:a.weather[0].icon,desc:a.weather[0].main.desc,prev:t};document.getElementById("villeSynth").textContent=o.ville,document.getElementById("tempSynthIcon").setAttribute("src","https://openweathermap.org/img/wn/".concat(o.icon,"@2x.png")),document.getElementById("tempSynthIcon").setAttribute("alt","".concat(o.desc)),document.getElementById("currentTemp").textContent="".concat(Math.round(o.temp),"\xb0"),document.getElementById("tempUnit").textContent="C",document.getElementById("synthMin").textContent="Min: ".concat(Math.round(o.tempMin),"\xb0C"),document.getElementById("synthMax").textContent="Max: ".concat(Math.round(o.tempMax),"\xb0C");for(var s=0;s<=3;s++)document.getElementById("weatherIcon".concat(s+1)).setAttribute("src","https://openweathermap.org/img/wn/".concat(o.prev.icon[s],"@2x.png")),document.getElementById("weatherDesc".concat(s+1)).textContent="".concat(o.prev.desc[s]),document.getElementById("prev".concat(s+1,"Min")).textContent="Min: ".concat(o.prev.minTemp[s],"\xb0C"),document.getElementById("prev".concat(s+1,"Max")).textContent="Max: ".concat(o.prev.maxTemp[s],"\xb0C")}else"401"==e[0].cod&&console.log(e.message)})).catch((function(e){console.log(e)}))}return c.a.createElement("div",{className:"App"},c.a.createElement(o.a,{expand:"md",color:"light",light:!0},c.a.createElement(s.a,{href:"/",className:"mr-auto"},c.a.createElement("img",{className:"logo",src:"img/meteo-logo.png",alt:"logo"})),c.a.createElement(i.a,{onClick:function(){return B(!I)},className:"mr-2"}),c.a.createElement(p.a,{isOpen:!I,navbar:!0},c.a.createElement(d.a,{navbar:!0},c.a.createElement(h.a,null,c.a.createElement(E.a,{href:""},"Lien1")),c.a.createElement(h.a,null,c.a.createElement(E.a,{href:""},"Lien2")),c.a.createElement(h.a,null,c.a.createElement(E.a,{href:""},"Lien3"))))),c.a.createElement("header",{className:"App-header"},c.a.createElement(u.a,null,c.a.createElement(v.a,{className:"synth"},c.a.createElement(g.a,{className:"villeSynth"},c.a.createElement("h1",{id:"villeSynth"}),c.a.createElement("p",null,"aujourd'"))),c.a.createElement(v.a,{className:"synth"},c.a.createElement(g.a,{className:"tempSynthIcon"},c.a.createElement("img",{id:"tempSynthIcon",src:"",alt:""})),c.a.createElement(g.a,{className:"tempSynth"},c.a.createElement("span",{id:"currentTemp",className:"tempSyntNnbr"}),c.a.createElement("span",{id:"tempUnit",className:"tempUnit"})),c.a.createElement(g.a,{className:"tempSynth"},c.a.createElement("p",{className:"max",id:"synthMax"}),c.a.createElement("p",{className:"min",id:"synthMin"}))),c.a.createElement(v.a,null,c.a.createElement(g.a,null,c.a.createElement(N.a,{className:"input-group-lg"},c.a.createElement(x.a,{type:"text",id:"ville",name:"ville",placeholder:"Recherche ville..."}),c.a.createElement(y.a,{addonType:"append"},c.a.createElement(w.a,{id:"searchBtn",onClick:D},c.a.createElement(f.a,{icon:M.a}))),c.a.createElement(y.a,{addonType:"append"},c.a.createElement(w.a,{id:"geoBtn",onClick:function(e){""!==document.getElementById("ville").value&&(document.getElementById("ville").value=""),C="Y",navigator.geolocation.getCurrentPosition(b,S),D(e)}},c.a.createElement(f.a,{icon:M.b})))))))),c.a.createElement("main",{className:"App-main"},c.a.createElement(u.a,null,c.a.createElement(v.a,{className:"previsions"},c.a.createElement(g.a,{className:"prevision",xs:"12",md:"5"},c.a.createElement("h2",null,"Pr\xe9vision +1"),c.a.createElement("div",{className:"prevSynth"},c.a.createElement("img",{className:"weatherIcon",id:"weatherIcon1",src:"",alt:""}),c.a.createElement("div",{className:"minMax"},c.a.createElement("p",{className:"min",id:"prev1Min"}),c.a.createElement("p",{id:"prev1Max",className:"max"}))),c.a.createElement("p",{className:"weatherDesc",id:"weatherDesc1"})),c.a.createElement(g.a,{className:"prevision",xs:"12",md:"5"},c.a.createElement("h2",null,"Pr\xe9vision +2"),c.a.createElement("div",{className:"prevSynth"},c.a.createElement("img",{className:"weatherIcon",id:"weatherIcon2",src:"",alt:""}),c.a.createElement("div",{className:"minMax"},c.a.createElement("p",{className:"min",id:"prev2Min"}),c.a.createElement("p",{id:"prev2Max",className:"max"}))),c.a.createElement("p",{className:"weatherDesc",id:"weatherDesc2"})),c.a.createElement(g.a,{className:"prevision",xs:"12",md:"5"},c.a.createElement("h2",null,"Pr\xe9vision +3"),c.a.createElement("div",{className:"prevSynth"},c.a.createElement("img",{className:"weatherIcon",id:"weatherIcon3",src:"",alt:""}),c.a.createElement("div",{className:"minMax"},c.a.createElement("p",{className:"min",id:"prev3Min"}),c.a.createElement("p",{id:"prev3Max",className:"max"}))),c.a.createElement("p",{className:"weatherDesc",id:"weatherDesc3"})),c.a.createElement(g.a,{className:"prevision",xs:"12",md:"5"},c.a.createElement("h2",null,"Pr\xe9vision +4"),c.a.createElement("div",{className:"prevSynth"},c.a.createElement("img",{className:"weatherIcon",id:"weatherIcon4",src:"",alt:""}),c.a.createElement("div",{className:"minMax"},c.a.createElement("p",{className:"min",id:"prev4Min"}),c.a.createElement("p",{id:"prev4Max",className:"max"}))),c.a.createElement("p",{className:"weatherDesc",id:"weatherDesc4"}))))),c.a.createElement("footer",null,"\xa9 First React App"))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(I,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[20,1,2]]]);
//# sourceMappingURL=main.4cdf1c6e.chunk.js.map